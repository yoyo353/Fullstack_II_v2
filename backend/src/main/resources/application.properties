# ==============================================
# GAMERZONE BACKEND - APPLICATION PROPERTIES
# Evaluación Parcial 3 - DSY1104
# ==============================================

# ==============================================
# SERVER CONFIGURATION
# ==============================================
server.port=8080
server.servlet.context-path=/

# ==============================================
# DATABASE CONFIGURATION (MySQL Local)
# ==============================================
# IMPORTANTE: Debes crear la base de datos manualmente:
# CREATE DATABASE gamerzone_db CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;

spring.datasource.url=jdbc:mysql://localhost:3306/gamerzone_db?useSSL=false&serverTimezone=UTC&allowPublicKeyRetrieval=true
spring.datasource.username=root
spring.datasource.password=root
spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver

# ==============================================
# JPA/HIBERNATE CONFIGURATION
# ==============================================
# create: Crea las tablas desde cero (BORRA DATOS EXISTENTES)
# update: Actualiza el esquema sin borrar datos
# validate: Solo valida que el esquema coincida
# none: No hace nada
spring.jpa.hibernate.ddl-auto=update

spring.jpa.show-sql=true
spring.jpa.properties.hibernate.format_sql=true
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQLDialect
spring.jpa.open-in-view=false

# ==============================================
# JWT CONFIGURATION
# ==============================================
# NOTA: Esta clave es para desarrollo. En producción usa una más segura.
jwt.secret=5367566B59703373367639792F423F4528482B4D6251655468576D5A71347437
jwt.expiration=86400000
# 86400000 ms = 24 horas

# ==============================================
# LOGGING CONFIGURATION
# ==============================================
logging.level.root=INFO
logging.level.com.gamerzone.tienda=DEBUG
logging.level.org.springframework.security=DEBUG
logging.level.org.hibernate.SQL=DEBUG

# ==============================================
# CORS CONFIGURATION
# ==============================================
# Permitir requests desde el frontend en desarrollo
cors.allowed-origins=http://localhost:5173,http://localhost:3000

# ==============================================
# SPRINGDOC/SWAGGER CONFIGURATION
# ==============================================
springdoc.api-docs.path=/v3/api-docs
springdoc.swagger-ui.path=/swagger-ui.html
springdoc.swagger-ui.operations-sorter=method
springdoc.swagger-ui.tags-sorter=alpha

# ==============================================
# JACKSON CONFIGURATION
# ==============================================
spring.jackson.serialization.fail-on-empty-beans=false
spring.jackson.serialization.write-dates-as-timestamps=false
spring.jackson.time-zone=America/Santiago

# ==============================================
# ERROR HANDLING
# ==============================================
server.error.include-message=always
server.error.include-stacktrace=on_param
